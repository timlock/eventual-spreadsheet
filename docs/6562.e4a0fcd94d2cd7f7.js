"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6562],{6562:(z,v,l)=>{l.r(v),l.d(v,{ConsistentSpreadsheetPageModule:()=>j});var f=l(6814),m=l(95),a=l(5548),_=l(5785),h=l(1940),C=l(394),u=l(6148),n=l(6689);class S{constructor(t=150,e=300,i=50){this.min=t,this.max=e,this.fixed=i}fixedDuration(){this.end=this.fixed+Date.now()}randomDuration(){this.end=Math.floor(Math.random()*(this.max-this.min)+this.min+Date.now())}stop(){this.end=void 0}isActive(){return void 0!==this.end}isTimeUp(){return void 0!==this.end&&Date.now()>=this.end}remainingTime(){if(void 0!==this.end)return this.end-Date.now()}}class c{constructor(t,e){this._nextIndex=t,this._matchIndex=e}get nextIndex(){return this._nextIndex}get matchIndex(){return this._matchIndex}decrementNexIndex(t){let e=this._nextIndex.get(t);void 0!==e&&e>0&&(e--,this._nextIndex.set(t,e))}}class p{constructor(){this.votes=new Set}addVote(t){this.votes.add(t)}countVotes(){return this.votes.size}}class g{constructor(t){this._leaderId=t}set leaderId(t){this._leaderId=t}get leaderId(){return this._leaderId}}class L{constructor(t=[]){this._currentTerm=0,this._commitIndex=0,this.lastApplied=0,this._log=t}fetchCommittedLogs(){if(this.lastApplied<this.commitIndex){let t=this._log.slice(this.lastApplied,this.commitIndex);return this.lastApplied=this.commitIndex,t}return[]}getMissingLogs(t){return this._log.slice(t)}replaceInvalidLogs(t){return void 0!==this._log[t]&&(this._log.splice(t),!0)}get currentTerm(){return this._currentTerm}set currentTerm(t){this._currentTerm=t}get votedFor(){return this._votedFor}set votedFor(t){this._votedFor=t}getLogTerm(t){var e;return null===(e=this._log[t-1])||void 0===e?void 0:e.term}hasLogAtIndex(t){return void 0!==this._log[t-1]||0==t}get log(){return this._log}get commitIndex(){return this._commitIndex}set commitIndex(t){this._commitIndex=t}get lastLogIndex(){return this._log.length}get lastLogTerm(){var t;return null===(t=this._log[this._log.length-1])||void 0===t?void 0:t.term}isUpToDate(t,e){return void 0!==e&&void 0!==this.lastLogTerm&&(e>this.lastLogTerm||e===this.lastLogTerm&&t>this.lastLogIndex)||e===this.lastLogTerm&&t>=this.lastLogIndex||void 0!==e&&void 0===this.lastLogTerm}}class R{constructor(t,e,i=!1,s=[]){this.role=new g,this._cluster=new Set,this.commandBuffer=[],this._nodeId=t,this.observer=e,this.debug=i,this.serverState=new L(s)}start(){this.observer.restartElectionTimer()}handleMessage(t){void 0!==t&&(function I(r){return"object"==typeof r&&"term"in r&&"candidateId"in r&&"lastLogIndex"in r&&"lastLogTerm"in r}(t)?this.handleRequestVoteRequest(t):function T(r){return"object"==typeof r&&"term"in r&&"voteGranted"in r&&"id"in r}(t)?this.handleRequestVoteResponse(t):function b(r){return"object"==typeof r&&"term"in r&&"leaderId"in r&&"prevLogIndex"in r&&"prevLogTerm"in r&&"entries"in r&&"leaderCommit"in r}(t)?this.handleAppendEntriesRequest(t):function w(r){return"object"==typeof r&&"term"in r&&"success"in r&&"id"in r&&"lastLogIndex"in r}(t)?this.handleAppendEntriesResponse(t):function M(r){return"object"==typeof r&&"content"in r&&"term"in r}(t)?this.handleCommand(t):this.warn("invalid message: ",t))}handleRequestVoteRequest(t){this.print("Handle RequestVoteRequest: ",t),t.term>this.serverState.currentTerm&&this.becomeFollower(t.term);let e=!1;t.term===this.serverState.currentTerm&&(void 0===this.serverState.votedFor||this.serverState.votedFor===t.candidateId)&&this.serverState.isUpToDate(t.lastLogIndex,t.lastLogTerm)&&(this.serverState.votedFor=t.candidateId,e=!0,this.observer.restartElectionTimer()),this.requestVoteResponse(t.candidateId,e)}handleRequestVoteResponse(t){this.print("Handle RequestVoteResponse: ",t),t.term>this.serverState.currentTerm&&this.becomeFollower(t.term),this.role instanceof p&&t.voteGranted&&t.term===this.serverState.currentTerm&&(this.role.addVote(t.id),this.role.countVotes()>this.majority()&&this.becomeLeader())}handleAppendEntriesRequest(t){this.print("Handle AppendEntriesRequest: ",t),(t.term>this.serverState.currentTerm||this.role instanceof p&&this.serverState.currentTerm==t.term)&&this.becomeFollower(t.term,t.leaderId),this.role instanceof g&&(this.role.leaderId=t.leaderId),this.observer.restartElectionTimer(),t.term<this.serverState.currentTerm||!this.serverState.hasLogAtIndex(t.prevLogIndex)||t.prevLogTerm!==this.serverState.getLogTerm(t.prevLogIndex)?this.appendEntriesResponse(t.leaderId,!1):(this.serverState.replaceInvalidLogs(t.prevLogIndex)&&this.print("Removed invalid logs after index ",t.prevLogIndex),this.serverState.log.push(...t.entries),t.leaderCommit>this.serverState.commitIndex&&(this.serverState.commitIndex=Math.min(t.leaderCommit,this.serverState.log.length),this.serverState.fetchCommittedLogs().forEach(i=>this.observer.onLog(i)),this.print("Leader increased commitIndex to: ",this.serverState.commitIndex),this.observer.onStateChange(this.getMetaData())),this.appendEntriesResponse(t.leaderId,!0),this.sendUnsentCommands())}handleAppendEntriesResponse(t){if(this.print("Handle AppendEntriesResponse: ",t),t.term>this.serverState.currentTerm&&this.becomeFollower(t.term,t.id),this.role instanceof c){if(!t.success){this.role.decrementNexIndex(t.id);let e=this.role.nextIndex.get(t.id);if(void 0===e)return void this.warn("Missing entry in nextIndex for: ",t.id);let i=this.serverState.getLogTerm(e),s=this.serverState.log.slice(e);return void this.appendEntriesRequest(t.id,e,i,s)}t.lastLogIndex>this.role.matchIndex.get(t.id)&&(this.role.nextIndex.set(t.id,t.lastLogIndex+1),this.role.matchIndex.set(t.id,t.lastLogIndex),this.advanceCommitIndex())}else this.warn("handleAppendEntriesResponse: node is not leader ",t)}command(t){this.role instanceof g&&void 0!==this.role.leaderId?this.log(this.role.leaderId,t):this.role instanceof c?this.handleCommand({term:this.serverState.currentTerm,content:t}):this.commandBuffer.push(t)}handleCommand(t){if(this.role instanceof c){this.print("Received command: ",t);let e=this.serverState.lastLogIndex,i=this.serverState.lastLogTerm;this.serverState.log.push(t),this._cluster.forEach(s=>this.appendEntriesRequest(s,e,i,[t]))}else this.warn("Cant handle command as: ",this.role)}requestVoteRequest(t){let e={term:this.serverState.currentTerm,candidateId:this._nodeId,lastLogIndex:this.serverState.lastLogIndex,lastLogTerm:this.serverState.getLogTerm(this.serverState.lastLogIndex)};this.observer.sendMessage(t,e),this.print("Send requestVoteRequest: ",e)}requestVoteResponse(t,e){let i={term:this.serverState.currentTerm,voteGranted:e,id:this.nodeId};this.observer.sendMessage(t,i),this.print("Send requestVoteResponse: ",i)}appendEntriesRequest(t,e,i,s=[]){let o={term:this.serverState.currentTerm,leaderId:this._nodeId,prevLogIndex:e,prevLogTerm:i,entries:s,leaderCommit:this.serverState.commitIndex};this.observer.sendMessage(t,o),this.print("Send appendEntriesRequest: ",o)}appendEntriesResponse(t,e){let i={term:this.serverState.currentTerm,success:e,id:this.nodeId,lastLogIndex:this.serverState.lastLogIndex};this.observer.sendMessage(t,i),this.print("Send appendEntriesResponse: ",i)}log(t,e){let i={term:this.serverState.currentTerm,content:e};this.observer.sendMessage(t,i),this.print("Send command: ",i)}sendUnsentCommands(){this.commandBuffer.forEach(t=>this.command(t)),this.commandBuffer=[]}becomeFollower(t,e){this.print("New role: FOLLOWER, term: ",t," leader: ",e),void 0!==t&&(this.serverState.currentTerm=t),this.serverState.votedFor=void 0,this.role=new g(e),this.observer.restartElectionTimer(),this.observer.onStateChange(this.getMetaData())}becomeCandidate(){this.print("New role: CANDIDATE"),this.role=new p,this.serverState.currentTerm++,this.serverState.votedFor=this._nodeId,this.role.addVote(this._nodeId),this.observer.restartElectionTimer(),this._cluster.forEach(t=>this.requestVoteRequest(t)),this.observer.onStateChange(this.getMetaData())}becomeLeader(){this.print("New role: LEADER");let t=new Map,e=new Map;this._cluster.forEach(i=>{t.set(i,this.serverState.log.length+1),e.set(i,0)}),this.role=new c(t,e),this._cluster.forEach(i=>this.appendEntriesRequest(i,this.serverState.lastLogIndex,this.serverState.lastLogTerm)),this.observer.restartHeartbeatTimer(),this.observer.onStateChange(this.getMetaData())}advanceCommitIndex(){if(this.role instanceof c){let t=Array.from(this.role.matchIndex.values()).filter(i=>i>this.serverState.commitIndex&&this.serverState.getLogTerm(i)===this.serverState.currentTerm),e=this.majority();if(t.length<e)return;t.sort((i,s)=>i-s),this.serverState.commitIndex=t[e-1],this.serverState.fetchCommittedLogs().forEach(i=>this.observer.onLog(i)),this.print("Increased commitIndex to: ",this.serverState.commitIndex),this.observer.onStateChange(this.getMetaData())}else this.warn("Cant advance commit as: ",this.role)}majority(){return Math.floor(this._cluster.size/2)+1}timeout(){if((this.role instanceof g||this.role instanceof p)&&(this.print("Election timeout"),this.becomeCandidate()),this.role instanceof c){this.print("Heartbeat");for(const t of this._cluster){let e=this.role.matchIndex.get(t);if(void 0!==e){let i=this.serverState.getMissingLogs(e);this.appendEntriesRequest(t,this.serverState.lastLogIndex,this.serverState.lastLogTerm,i)}else this.warn("Missing matchIndex entry for : ",t)}this.observer.restartHeartbeatTimer()}}addNode(t){let e=this._cluster.size;return this._cluster.add(t),this._cluster.size>e&&(this.role instanceof c&&(this.role.nextIndex.set(t,this.serverState.log.length+1),this.role.matchIndex.set(t,0)),!0)}print(...t){this.debug&&console.log(...t)}warn(...t){this.debug&&console.warn(...t)}isLeader(){return this.role instanceof c}isFollower(){return this.role instanceof g}isCandidate(){return this.role instanceof p}get nodeId(){return this._nodeId}get allLogs(){return this.serverState.log}get clusterSize(){return this._cluster.size+1}get commitIndex(){return this.serverState.commitIndex}get cluster(){return this._cluster}get term(){return this.serverState.currentTerm}get lastLogIndex(){return this.serverState.lastLogIndex}getCurrentRole(){return this.isCandidate()?"Candidate":this.isLeader()?"Leader":this.isFollower()?"Follower":""}getMetaData(){return{lastLogIndex:this.lastLogIndex,role:this.getCurrentRole(),term:this.term}}}var A=l(3125);let Z=(()=>{class r{constructor(e){this.channelName="raft",this._isConnected=!0,this.communicationService=e,this.timer=new S,this.node=new R(this.identifier.uuid,this,!0)}openChannel(e,i){this.closeChannel(),this.channelName=e,this.observer=i,this.communicationService.openChannel(this.channelName,this)}closeChannel(){this.timer.stop(),this.communicationService.closeChannel()}start(){this.node.start()}performAction(e){return this.node.command(e),!0}onLog(e){var i;if((0,C.rz)(e.content))return null===(i=this.observer)||void 0===i||i.onMessage(e.content),void console.log("Log applied: ",e);console.warn("Log doesnt contain payload, ",e)}sendMessage(e,i){this._isConnected&&this.communicationService.send(i,e)}onMessage(e,i){this._isConnected&&this.node.handleMessage(e)}onNode(e){var s;this.node.addNode(e)&&(console.log("Added node: ",e," to cluster"),null===(s=this.observer)||void 0===s||s.onNode(e))}checkTime(){let e=this.timer.remainingTime();this.timer.isTimeUp()?this.node.timeout():void 0!==e&&setTimeout(()=>this.checkTime(),e)}restartElectionTimer(){this.timer.randomDuration();let e=this.timer.remainingTime();void 0!==e&&setTimeout(()=>this.checkTime(),e)}restartHeartbeatTimer(){this.timer.fixedDuration();let e=this.timer.remainingTime();void 0!==e&&setTimeout(()=>this.checkTime(),e)}get nodes(){return this.node.cluster}get identifier(){return this.communicationService.identifier}set isConnected(e){this._isConnected=e}get isConnected(){return this._isConnected}onStateChange(e){var i;null===(i=this.observer)||void 0===i||i.onStateChange(e)}getMetaData(){return this.node.getMetaData()}isActive(){return this.timer.isActive()}}return r.\u0275fac=function(e){return new(e||r)(n.LFG(A.O))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var E=l(5220),N=l(6070);function P(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"div")(1,"ion-col",3)(2,"ion-button",15),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.start())}),n._uU(3,"Start"),n.qZA()()()}}function y(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"th",16)(1,"ion-toolbar")(2,"ion-buttons",17)(3,"ion-button",18),n.NdJ("click",function(){const o=n.CHM(e).$implicit,d=n.oxw();return n.KtG(d.insertColumn(o))}),n._UZ(4,"ion-icon",13),n.qZA()(),n._uU(5),n.TgZ(6,"ion-buttons",19)(7,"ion-button",20),n.NdJ("click",function(){const o=n.CHM(e).$implicit,d=n.oxw();return n.KtG(d.deleteColumn(o))}),n._UZ(8,"ion-icon",21),n.qZA()()()()}if(2&r){const e=t.index;n.xp6(5),n.hij(" ",e+1," ")}}const x=function(r,t){return{column:r,row:t}};function F(r,t){if(1&r&&(n.TgZ(0,"div")(1,"div",26),n._uU(2),n.qZA()()),2&r){const e=n.oxw().$implicit,i=n.oxw().$implicit,s=n.oxw();let o;n.xp6(2),n.hij(" ",null==(o=s.table.get(n.WLB(1,x,e,i)))?null:o.content," ")}}function k(r,t){if(1&r&&n._uU(0),2&r){const e=n.oxw().$implicit,i=n.oxw().$implicit,s=n.oxw();let o;n.hij(" ",null==(o=s.table.get(n.WLB(1,x,e,i)))?null:o.content," ")}}function D(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"td",23),n.NdJ("click",function(){const o=n.CHM(e).$implicit,d=n.oxw().$implicit,V=n.oxw();return n.KtG(V.selectCell(o,d))}),n.YNc(1,F,3,4,"div",24),n.YNc(2,k,1,4,"ng-template",null,25,n.W1O),n.qZA()}if(2&r){const e=t.$implicit,i=n.MAs(3),s=n.oxw().$implicit,o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.currentCell.row===s&&o.currentCell.column===e)("ngIfElse",i)}}function U(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"tr")(1,"td",10)(2,"ion-toolbar")(3,"ion-buttons",17)(4,"ion-button",18),n.NdJ("click",function(){const o=n.CHM(e).$implicit,d=n.oxw();return n.KtG(d.insertRow(o))}),n._UZ(5,"ion-icon",13),n.qZA()(),n._uU(6),n.TgZ(7,"ion-buttons",19)(8,"ion-button",20),n.NdJ("click",function(){const o=n.CHM(e).$implicit,d=n.oxw();return n.KtG(d.deleteRow(o))}),n._UZ(9,"ion-icon",21),n.qZA()()()(),n.YNc(10,D,4,2,"td",22),n.qZA()}if(2&r){const e=t.index,i=n.oxw();n.xp6(6),n.hij(" ",e+1," "),n.xp6(4),n.Q6J("ngForOf",i.table.columns)}}const O=[{path:"",component:(()=>{class r{constructor(e,i,s,o){this._nodes=new Set,this.channelName="consistent",this._raftMetaData={term:0,role:"",lastLogIndex:0},this.raftService=e,this.spreadsheetService=i,this.ngZone=s,this.consistencyChecker=o,this._table=this.spreadsheetService.getTable(),this._currentCell=this.spreadsheetService.getCellByIndex(1,1)}ngOnInit(){this.consistencyChecker.subscribe(this.raftService.identifier.uuid,this.table,e=>{console.log("All updates applied ",e),this.ngZone.run(()=>this._trackedTime=e)})}ngAfterViewInit(){this.ionInput=document.getElementsByName("consistent-input")[0]}ionViewDidEnter(){this.raftService.openChannel(this.channelName,this)}start(){this.raftService.start()}selectCell(e,i){var s;this._currentCell=this.spreadsheetService.getCellById({column:e,row:i}),this.table.rows.length>0&&this.table.columns.length>0&&(null===(s=this.ionInput)||void 0===s||s.setFocus(),console.log(this.ionInput))}addRow(){let e=this.identifier.next(),i=u.Z.addRow(e);this.performAction(i)}insertRow(e){let i=this.identifier.next(),s=u.Z.insertRow(i,e);this.performAction(s)}deleteRow(e){let i=u.Z.deleteRow(e);this.performAction(i)}addColumn(){let e=this.identifier.next(),i=u.Z.addColumn(e);this.performAction(i)}insertColumn(e){let i=this.identifier.next(),s=u.Z.insertColumn(i,e);this.performAction(s)}deleteColumn(e){let i=u.Z.deleteColumn(e);this.performAction(i)}insertCell(e){let i=u.Z.insertCell(e.address,e.input);this.performAction(i)}performAction(e){this.consistencyChecker.modifiedState(),this.ngZone.run(()=>this._trackedTime=void 0),this.raftService.performAction(e)}deleteCell(e){e.input="",this.insertCell(e)}getCell(e,i){return this.spreadsheetService.getTable().get({column:e,row:i})}get currentCell(){return(-1===this._table.rows.indexOf(this._currentCell.row)||-1===this._table.columns.indexOf(this._currentCell.column))&&this.selectCell(this._table.columns[0],this._table.rows[0]),this._currentCell}onMessage(e){(0,C.rz)(e)?(this.handleAction(e),this.ngZone.run(()=>this._table=this.spreadsheetService.getTable()),this.consistencyChecker.updateApplied(this.table)):console.warn("Invalid message",e)}onNode(e){this._nodes.add(e),this.ngZone.run(()=>this._nodes=this.raftService.nodes)}onStateChange(e){this.ngZone.run(()=>this._raftMetaData=e)}handleAction(e){switch(e.action){case h.U.INSERT_CELL:this.spreadsheetService.insertCellById({column:e.column,row:e.row},e.input);break;case h.U.ADD_ROW:this.spreadsheetService.addRow(e.input);break;case h.U.INSERT_ROW:this.spreadsheetService.insertRow(e.input,e.row);break;case h.U.ADD_COLUMN:this.spreadsheetService.addColumn(e.input);break;case h.U.INSERT_COLUMN:this.spreadsheetService.insertColumn(e.input,e.column);break;case h.U.DELETE_COLUMN:this.spreadsheetService.deleteColumn(e.column);break;case h.U.DELETE_ROW:this.spreadsheetService.deleteRow(e.row);break;default:console.warn("Cant perform action for message: ",e)}}get table(){return this._table=this.spreadsheetService.getTable(),this._table}set table(e){this._table=e}get nodes(){return this._nodes=this.raftService.nodes,this._nodes}get clusterSize(){return this.nodes.size}get identifier(){return this.raftService.identifier}get connectionEnabled(){return this.raftService.isConnected}set connectionEnabled(e){this.raftService.isConnected=e}get raftMetaData(){return this._raftMetaData=this.raftService.getMetaData(),this._raftMetaData}get trackedTime(){return this._trackedTime}get isActive(){return this.raftService.isActive()}}return r.\u0275fac=function(e){return new(e||r)(n.Y36(Z),n.Y36(E.t),n.Y36(n.R0b),n.Y36(N.x))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-consistent-spreadsheet"]],decls:47,vars:13,consts:[[3,"fullscreen"],["color","primary"],["size","large"],["size","auto"],[3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"ion-padding-top"],[3,"submit"],["name","consistent-input","fill","outline",3,"ngModel","ngModelChange"],[1,"spreadsheet"],[1,"table-header","small-cell"],["class","table-header cell",4,"ngFor","ngForOf"],["color","primary",3,"click"],["name","add"],[4,"ngFor","ngForOf"],[3,"click"],[1,"table-header","cell"],["slot","start"],["fill","clear","size","small","color","success",3,"click"],["slot","end"],["fill","clear","size","small","color","danger",3,"click"],["name","close-circle-outline"],["class","ion-text-right cell",3,"click",4,"ngFor","ngForOf"],[1,"ion-text-right","cell",3,"click"],[4,"ngIf","ngIfElse"],["cellValue",""],[1,"selected"]],template:function(e,i){1&e&&(n.TgZ(0,"ion-content",0)(1,"ion-header")(2,"ion-toolbar",1)(3,"ion-title",2),n._uU(4,"consistent-spreadsheet"),n.qZA()()(),n.TgZ(5,"ion-grid")(6,"ion-row")(7,"ion-col",3)(8,"ion-toggle",4),n.NdJ("ngModelChange",function(o){return i.connectionEnabled=o}),n.TgZ(9,"ion-title"),n._uU(10,"Global coordination"),n.qZA()()(),n.TgZ(11,"ion-col",3)(12,"ion-title"),n._uU(13),n.qZA()(),n.TgZ(14,"ion-col")(15,"ion-title"),n._uU(16),n.qZA()(),n.YNc(17,P,4,0,"div",5),n.qZA(),n.TgZ(18,"ion-row")(19,"ion-col",3)(20,"ion-title"),n._uU(21),n.qZA()(),n.TgZ(22,"ion-col",3)(23,"ion-title"),n._uU(24),n.qZA()(),n.TgZ(25,"ion-col",3)(26,"ion-title"),n._uU(27),n.qZA()()(),n.TgZ(28,"ion-row")(29,"ion-col",3)(30,"ion-title",6),n._uU(31),n.qZA()(),n.TgZ(32,"ion-col")(33,"form",7),n.NdJ("submit",function(){return i.insertCell(i.currentCell)}),n.TgZ(34,"ion-input",8),n.NdJ("ngModelChange",function(o){return i.currentCell.input=o}),n.qZA()()()()(),n.TgZ(35,"div",9)(36,"table")(37,"thead")(38,"tr"),n._UZ(39,"th",10),n.YNc(40,y,9,1,"th",11),n.TgZ(41,"ion-button",12),n.NdJ("click",function(){return i.addColumn()}),n._UZ(42,"ion-icon",13),n.qZA()()(),n.TgZ(43,"tbody"),n.YNc(44,U,11,2,"tr",14),n.qZA()()(),n.TgZ(45,"ion-button",12),n.NdJ("click",function(){return i.addRow()}),n._UZ(46,"ion-icon",13),n.qZA()()),2&e&&(n.Q6J("fullscreen",!0),n.xp6(8),n.Q6J("ngModel",i.connectionEnabled),n.xp6(5),n.hij("Remote nodes: ",i.clusterSize,""),n.xp6(3),n.hij("Time: ",i.trackedTime,""),n.xp6(1),n.Q6J("ngIf",i.nodes.size>1&&!i.isActive),n.xp6(4),n.hij("Current role: ",i.raftMetaData.role,""),n.xp6(3),n.hij("Current term: ",i.raftMetaData.term,""),n.xp6(3),n.hij("Last log index: ",i.raftMetaData.lastLogIndex,""),n.xp6(4),n.AsE("",i.currentCell.colIndex,"|",i.currentCell.rowIndex,""),n.xp6(3),n.Q6J("ngModel",i.currentCell.input),n.xp6(6),n.Q6J("ngForOf",i.table.columns),n.xp6(4),n.Q6J("ngForOf",i.table.rows))},dependencies:[f.sg,f.O5,m._Y,m.JJ,m.JL,m.On,m.F,a.YG,a.Sm,a.wI,a.W2,a.jY,a.Gu,a.gu,a.pK,a.Nd,a.wd,a.ho,a.sr,a.w,a.j9],styles:["table-header[_ngcontent-%COMP%]{color:gray;text-align:center}.small-cell[_ngcontent-%COMP%]{width:120px}.cell[_ngcontent-%COMP%]{width:150px}.selected[_ngcontent-%COMP%]{border:solid 5px black;height:50px;min-width:150px}.spreadsheet[_ngcontent-%COMP%]{overflow-x:auto}.spreadsheet[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.spreadsheet[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .spreadsheet[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:solid 1px lightgray}"]}),r})()}];let J=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[_.Bz.forChild(O),_.Bz]}),r})(),j=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[f.ez,m.u5,a.Pc,J]}),r})()}}]);