"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7693],{7693:(k,_,a)=>{a.r(_),a.d(_,{InconsistentSpreadsheetPageModule:()=>R});var p=a(6814),g=a(95),l=a(5548),h=a(5785),T=a(394),C=a(6502),e=a(6689),f=a(8649),Z=a(4499),b=a(7670),M=a(5377),S=a(1863),d=a(6148),u=a(7330);let w=(()=>{class o{constructor(){this.inputTable=new b.i,this.spreadsheetSolver=new M.O(this.inputTable),this.fillTable()}fillTable(){const t=new S.x("init");for(let n=0;n<10;n++)this.addRow(t.next()),this.addColumn(t.next());this.spreadsheetSolver.reset()}addRow(t){return this.inputTable.addRow(t),this.spreadsheetSolver.reset(),d.Z.addRow(t)}insertRow(t,n){return this.inputTable.insertRow(t,n),this.spreadsheetSolver.reset(),d.Z.insertRow(t,n)}deleteRow(t){return this.inputTable.deleteRow(t),this.spreadsheetSolver.reset(),d.Z.deleteRow(t)}addColumn(t){return this.inputTable.addColumn(t),this.spreadsheetSolver.reset(),d.Z.addColumn(t)}insertColumn(t,n){return this.inputTable.insertColumn(t,n),this.spreadsheetSolver.reset(),d.Z.insertColumn(t,n)}deleteColumn(t){return this.inputTable.deleteColumn(t),this.spreadsheetSolver.reset(),d.Z.deleteColumn(t)}set(t,n){if(0===n.trim().length)this.deleteCell(t);else{const s=Z.b.parseCell(n);this.inputTable.set(t,s)}return this.spreadsheetSolver.reset(),d.Z.insertCell(t,n)}deleteCell(t){this.inputTable.deleteValue(t),this.spreadsheetSolver.reset()}applyUpdate(t){switch(t.action){case u.U.INSERT_CELL:this.set({column:t.column,row:t.row},t.input);break;case u.U.ADD_ROW:this.addRow(t.input);break;case u.U.INSERT_ROW:this.insertRow(t.input,t.row);break;case u.U.ADD_COLUMN:this.addColumn(t.input);break;case u.U.INSERT_COLUMN:this.insertColumn(t.input,t.column);break;case u.U.DELETE_COLUMN:this.deleteColumn(t.column);break;case u.U.DELETE_ROW:this.deleteRow(t.row);break;default:console.warn("Cant perform update for update: ",t)}}renderTable(){return this.spreadsheetSolver.solve()}get rows(){return this.inputTable.rows}get columns(){return this.inputTable.columns}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var x=a(367);function I(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"form",4),e.NdJ("submit",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.insertCell(s.currentCell.address,s.input))}),e.TgZ(2,"ion-input",20),e.NdJ("ngModelChange",function(s){e.CHM(t);const i=e.oxw();return e.KtG(i.input=s)}),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.input)}}function v(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"th",21)(1,"ion-toolbar")(2,"ion-buttons",22)(3,"ion-button",23),e.NdJ("click",function(){const i=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.insertColumn(i))}),e._UZ(4,"ion-icon",18),e.qZA()(),e._uU(5),e.TgZ(6,"ion-buttons",24)(7,"ion-button",25),e.NdJ("click",function(){const i=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deleteColumn(i))}),e._UZ(8,"ion-icon",26),e.qZA()()()()}if(2&o){const t=r.index;e.xp6(5),e.hij(" ",t+1," ")}}const m=function(o,r){return{column:o,row:r}};function P(o,r){if(1&o&&(e.TgZ(0,"div")(1,"div",31),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit,n=e.oxw().$implicit,s=e.oxw();let i;e.xp6(2),e.hij(" ",null==(i=s.spreadsheet.renderTable().get(e.WLB(1,m,t,n)))?null:i.content," ")}}function A(o,r){if(1&o&&e._uU(0),2&o){const t=e.oxw().$implicit,n=e.oxw().$implicit,s=e.oxw();let i;e.hij(" ",null==(i=s.spreadsheet.renderTable().get(e.WLB(1,m,t,n)))?null:i.content," ")}}function U(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td",28),e.NdJ("click",function(){const i=e.CHM(t).$implicit,c=e.oxw().$implicit,O=e.oxw();return e.KtG(O.selectCell(i,c))}),e.YNc(1,P,3,4,"div",29),e.YNc(2,A,1,4,"ng-template",null,30,e.W1O),e.qZA()}if(2&o){const t=r.$implicit,n=e.MAs(3),s=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",void 0!==i.currentCell&&i.currentCell.address.row===s&&i.currentCell.address.column===t)("ngIfElse",n)}}function J(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",15)(2,"ion-toolbar")(3,"ion-buttons",22)(4,"ion-button",23),e.NdJ("click",function(){const i=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.insertRow(i))}),e._UZ(5,"ion-icon",18),e.qZA()(),e._uU(6),e.TgZ(7,"ion-buttons",24)(8,"ion-button",25),e.NdJ("click",function(){const i=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deleteRow(i))}),e._UZ(9,"ion-icon",26),e.qZA()()()(),e.YNc(10,U,4,2,"td",27),e.qZA()}if(2&o){const t=r.index,n=e.oxw();e.xp6(6),e.hij(" ",t+1," "),e.xp6(4),e.Q6J("ngForOf",n.spreadsheet.renderTable().columns)}}const N=[{path:"",component:(()=>{class o extends C.H{constructor(t,n,s,i){super(s,t,n,o.TAG,i)}onMessage(t,n){(0,T.rz)(t)?super.onMessage(t,n):console.warn("Invalid message",t)}}return o.TAG="inconsistent",o.\u0275fac=function(t){return new(t||o)(e.Y36(f.M),e.Y36(w),e.Y36(x.x),e.Y36(e.z2F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-inconsistent-spreadsheet"]],features:[e.qOj],decls:90,vars:19,consts:[[3,"fullscreen"],["color","warning"],["size","large"],[3,"click"],[3,"submit"],["name","growInput","type","number","fill","outline","label","Grow",3,"ngModel","ngModelChange"],["lines","none"],["justify","start",3,"ngModel","ngModelChange"],["type","number","fill","outline","label","Test size",3,"ngModel","ngModelChange"],["type","number","fill","outline","label","Number of tests",3,"ngModel","ngModelChange"],["size","auto"],[3,"ngModel","ngModelChange"],[1,"ion-padding-top"],[4,"ngIf"],[1,"spreadsheet"],[1,"table-header","small-cell"],["class","table-header cell",4,"ngFor","ngForOf"],["color","primary",3,"click"],["name","add"],[4,"ngFor","ngForOf"],["name","inconsistent","fill","outline",3,"ngModel","ngModelChange"],[1,"table-header","cell"],["slot","start"],["fill","clear","size","small","color","success",3,"click"],["slot","end"],["fill","clear","size","small","color","danger",3,"click"],["name","close-circle-outline"],["class","ion-text-right cell",3,"click",4,"ngFor","ngForOf"],[1,"ion-text-right","cell",3,"click"],[4,"ngIf","ngIfElse"],["cellValue",""],[1,"selected"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content",0)(1,"ion-header")(2,"ion-toolbar",1)(3,"ion-title",2),e._uU(4,"inconsistent-spreadsheet"),e.qZA()()(),e.TgZ(5,"ion-grid")(6,"ion-row")(7,"ion-col")(8,"ion-card")(9,"ion-card-header")(10,"ion-card-title"),e._uU(11,"State"),e.qZA()(),e.TgZ(12,"ion-card-content")(13,"ion-list")(14,"ion-item")(15,"ion-label"),e._uU(16),e.qZA()(),e.TgZ(17,"ion-item")(18,"ion-label"),e._uU(19),e.qZA()(),e.TgZ(20,"ion-item")(21,"ion-label"),e._uU(22),e.qZA()(),e.TgZ(23,"ion-item")(24,"ion-label"),e._uU(25),e.qZA()(),e.TgZ(26,"ion-item")(27,"ion-button",3),e.NdJ("click",function(){return n.fillTable()}),e._uU(28,"Fill table"),e.qZA()(),e.TgZ(29,"ion-item")(30,"ion-button",3),e.NdJ("click",function(){return n.clear()}),e._uU(31,"Clear table"),e.qZA()(),e.TgZ(32,"ion-item")(33,"form",4),e.NdJ("submit",function(){return n.grow(n.growQuantity)}),e.TgZ(34,"ion-input",5),e.NdJ("ngModelChange",function(i){return n.growQuantity=i}),e.qZA()()(),e.TgZ(35,"ion-item")(36,"ion-label"),e._uU(37),e.qZA()(),e.TgZ(38,"ion-item")(39,"ion-label"),e._uU(40),e.qZA()(),e.TgZ(41,"ion-item")(42,"ion-label"),e._uU(43),e.qZA()(),e.TgZ(44,"ion-item",6)(45,"ion-toggle",7),e.NdJ("ngModelChange",function(i){return n.isConnected=i}),e.TgZ(46,"ion-title"),e._uU(47,"Connected"),e.qZA()()()()()()(),e.TgZ(48,"ion-col")(49,"ion-card")(50,"ion-card-header")(51,"ion-card-title"),e._uU(52,"Testing"),e.qZA()(),e.TgZ(53,"ion-card-content")(54,"ion-item",6)(55,"ion-grid")(56,"ion-row")(57,"ion-input",8),e.NdJ("ngModelChange",function(i){return n.testSize=i}),e.qZA()(),e.TgZ(58,"ion-row")(59,"ion-input",9),e.NdJ("ngModelChange",function(i){return n.testRuns=i}),e.qZA()(),e.TgZ(60,"ion-row")(61,"ion-col",10)(62,"ion-toggle",11),e.NdJ("ngModelChange",function(i){return n.countBytes=i}),e.TgZ(63,"ion-title"),e._uU(64,"Count bytes"),e.qZA()()(),e.TgZ(65,"ion-col",10)(66,"ion-toggle",11),e.NdJ("ngModelChange",function(i){return n.measureTime=i}),e.TgZ(67,"ion-title"),e._uU(68,"Measure time"),e.qZA()()()(),e.TgZ(69,"ion-row")(70,"ion-button",3),e.NdJ("click",function(){return n.startTests()}),e._uU(71,"Start test"),e.qZA()()()()()()()(),e.TgZ(72,"ion-row")(73,"ion-col",10)(74,"ion-title",12),e._uU(75),e.qZA()(),e.TgZ(76,"ion-col"),e.YNc(77,I,3,1,"div",13),e.qZA()()(),e.TgZ(78,"div",14)(79,"table")(80,"thead")(81,"tr"),e._UZ(82,"th",15),e.YNc(83,v,9,1,"th",16),e.TgZ(84,"ion-button",17),e.NdJ("click",function(){return n.addColumn()}),e._UZ(85,"ion-icon",18),e.qZA()()(),e.TgZ(86,"tbody"),e.YNc(87,J,11,2,"tr",19),e.qZA()()(),e.TgZ(88,"ion-button",17),e.NdJ("click",function(){return n.addRow()}),e._UZ(89,"ion-icon",18),e.qZA()()),2&t&&(e.Q6J("fullscreen",!0),e.xp6(16),e.hij("Remote nodes: ",n.communication.nodes.size,""),e.xp6(3),e.hij("Time: ",n.trackedTime,""),e.xp6(3),e.hij("Exchanged bytes: ",n.countedBytes,""),e.xp6(3),e.hij("Exchanged messages: ",n.countedMessages,""),e.xp6(9),e.Q6J("ngModel",n.growQuantity),e.xp6(3),e.hij("Total bytes: ",n.totalBytes,""),e.xp6(3),e.hij("Received messages: ",n.communication.totalReceivedMessages,""),e.xp6(3),e.hij("Sent messages: ",n.communication.totalSentMessages,""),e.xp6(2),e.Q6J("ngModel",n.isConnected),e.xp6(12),e.Q6J("ngModel",n.testSize),e.xp6(2),e.Q6J("ngModel",n.testRuns),e.xp6(3),e.Q6J("ngModel",n.countBytes),e.xp6(4),e.Q6J("ngModel",n.measureTime),e.xp6(9),e.AsE("",null==n.currentCell?null:n.currentCell.columnIndex,"|",null==n.currentCell?null:n.currentCell.rowIndex,""),e.xp6(2),e.Q6J("ngIf",void 0!==n.currentCell),e.xp6(6),e.Q6J("ngForOf",n.spreadsheet.renderTable().columns),e.xp6(4),e.Q6J("ngForOf",n.spreadsheet.renderTable().rows))},dependencies:[p.sg,p.O5,g._Y,g.JJ,g.JL,g.On,g.F,l.YG,l.Sm,l.PM,l.FN,l.Zi,l.Dq,l.wI,l.W2,l.jY,l.Gu,l.gu,l.pK,l.Ie,l.Q$,l.q_,l.Nd,l.wd,l.ho,l.sr,l.w,l.as,l.j9],styles:["table-header[_ngcontent-%COMP%]{color:gray;text-align:center}.small-cell[_ngcontent-%COMP%]{width:120px}.cell[_ngcontent-%COMP%]{width:150px}.selected[_ngcontent-%COMP%]{border:solid 5px black;min-height:50px;min-width:150px}.spreadsheet[_ngcontent-%COMP%]{overflow-x:auto}.spreadsheet[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.spreadsheet[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .spreadsheet[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:solid 1px lightgray}"]}),o})()}];let y=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(N),h.Bz]}),o})(),R=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,g.u5,l.Pc,y]}),o})()}}]);